<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="CleverStack, the Enterprise-grade, Open-Source Full-Stack JavaScript Framework built on NodeJS and Angular, MEAN and so much more!">
<meta name="keywords" content="HTML, CSS, JS, JavaScript, framework, bootstrap, front-end, frontend, web development, node.js, express, mongoose, mongodb, angularjs, swig, sequelize, sequelizejs, orm, odm, cli">
<meta name="author" content="Richard Gustin and contributors to the CleverStack Repositories">

<title>
  
    Backend Modules &middot; CleverStack.io
  
</title>

<!-- Bootstrap core CSS -->
<link href="/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Theme CSS -->
<link href="/dist/css/bootstrap-theme.min.css" rel="stylesheet">

<!-- Application CSS -->
<link href="/dist/css/application.min.css" rel="stylesheet">


<!-- Documentation extras -->
<link href="/assets/css/docs.css" rel="stylesheet">
<link href="/assets/css/pygments-manni.css" rel="stylesheet">
<!--[if lt IE 9]><script src="/assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="shortcut icon" href="/assets/ico/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/assets/ico/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="57x57" href="/assets/ico/apple-touch-icon-57x57.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/assets/ico/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="76x76" href="/assets/ico/apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/assets/ico/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="120x120" href="/assets/ico/apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/assets/ico/apple-touch-icon-144x144.png" />
<link rel="apple-touch-icon" sizes="152x152" href="/assets/ico/apple-touch-icon-152x152.png" />

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48107165-1', 'cleverstack.io');
  ga('send', 'pageview');
  var tag = document.createElement('script');  tag.src = "http://www.youtube.com/player_api";  var firstScriptTag = document.getElementsByTagName('script')[0];  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  </script>

  </head>
  <body>
    <a class="sr-only" href="#content">Skip to main content</a>

    <div class="github-ribbon">
       <a href="https://github.com/cleverstack/"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
    </div>

    <!-- Docs master nav -->
    <header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">CleverStack.io</a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li>
          <a href="/getting-started">Getting started</a>
        </li>
        <li>
          <a href="/why-cleverstack">Why cleverstack?</a>
        </li>
        <li>
          <a href="/modules">Modules</a>
        </li>
        <li>
          <a href="/documentation">Documentation</a>
        </li>
<!--         <li>
          <a href="/css">CSS</a>
        </li>
        <li>
          <a href="/components">Components</a>
        </li>
        <li>
          <a href="/javascript">JavaScript</a>
        </li>
        <li>
          <a href="/customize">Customize</a>
        </li> -->
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="/about">About</a>
        </li>
      </ul>
    </nav>
  </div>
</header>


    <!-- Docs page layout -->
    <div class="bs-header" id="content">
      <div class="container">
        <h1>Backend Modules</h1>
        <p>An Indepth guides of the CleverStack NodeJS Backend, covering installation, configuration, usage, extending, testing and much more.</p>
      </div>
    </div>

    <!-- Callout for the old docs link -->
    <!-- <div class="bs-old-docs">
  <div class="container">
    <strong>
      <a href="/2.3.2/">Looking for Bootstrap 2.3.2 docs?</a>
    </strong>
    We've moved it to a new home while we push forward with Bootstrap 3. <a href="http://blog.getbootstrap.com/">Read the blog</a> for details.
  </div>
</div>
 -->

    <div class="container bs-docs-container">

      <div class="row">
        <div class="col-md-3">
          <div class="bs-sidebar hidden-print" role="complementary">
            <ul class="nav bs-sidenav">
              
                <li><a href="/documentation/backend#modules" style="padding-left: 10px !important;color: #563d7c;"><strong>Backend</strong> <br/><small>(viewing Modules)</small></a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-are-modules">What are Modules</a></li>
<li><a href="#what-about-npm">What about NPM</a></li>
<li><a href="#what-powers-modules">What powers Modules</a></li>
<li><a href="#example-module">The Example Module</a></li>
<li><a href="#module-loader">The Module Loader</a>
<li><a href="#working-with-modules">Working With Modules</a>
  <ul class="nav nav-nest">
    <li><a href="#installing-modules">Installing Modules</a></li>
    <li><a href="#removing-modules">Removing Modules</a></li>
    <li><a href="#upgrading-modules">Upgrading Modules</a></li>
    <li><a href="#downgrading-modules">Downgrading Modules</a></li>
  </ul>
</li>
<!-- <li><a href="#keeping-modules-indepenent">Keeping Modules Independent</a></li> -->
<li><a href="#configuration">Module Configuration</a></li>
<li><a href="#structure">Module Structure</a></li>
<li><a href="#hooks-and-events">Module Hooks &amp; Events</a></li>
<li><a href="#creating-modules">Creating Modules</a>
  <ul class="nav nav-nest">
    <li><a href="#generating-modules">Using the CLI</a></li>
    <li><a href="#class-definition">Class Definition</a></li>
    <li><a href="#class-options">Class Options</a></li>
  </ul>
</li>
<li><a href="#testing">Testing</a>
  <ul class="nav">
    <li><a href="#testing-unit">Running Unit Tests</a></li>
    <li><a href="#testing-e2e">Running E2E Tests</a></li>
    <li><a href="#testing-coverage">Code Coverage Reports</a></li>
  </ul>
</li>
<li><a href="#troubleshooting">Troubleshooting</a></li>

              
            </ul>
          </div>
        </div>
        <div class="col-md-9" role="main">
          	<div class="bs-docs-section">
  <div class="section-page"><h3 class="page-header" id="introduction">
  Introduction
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li class="active">Modules</li>
</ol>

<p class="lead">
  CleverStack introduces a <strong><i>new and powerful</i></strong> approach to <strong><i>modules</i></strong>, that was designed with three goals in mind; <strong><i>flexibility</i></strong>, <strong><i>simplicity</i></strong>, and <strong><i>re-usability</i></strong> - as best practice, all functionality including what is in the CleverStack Core should be defined inside of modules.
</p>

<p class="lead sub">
  <i>CleverStack <strong>removes the complexity</strong> from installing &amp; configuring modules, makes <strong>developing modules easier</strong> (vertical scale), and allows you to easily <strong>re-use modules</strong> with little or no code change <strong>between projects</strong>. (horizontal scale).</i>
</p>

<p class="lead sub">
  CleverStack encourages developers to shift their thinking and minset towards not only viewing the modularization principles <strong><i>on a vertical scale</i></strong>, (e.g. reducing developing time), but also <strong><i>on a horizontal scale</i></strong>. (e.g. not needing to focus on every single detail, being able to take a step back and look at your environment across the horizon).
</p>
<br/><br/>
<blockquote>
  <h6>Complexity kills. It sucks the life out of developers, it makes products difficult to plan, build and test, it introduces security challenges and it causes end-user and administrator frustration.</h6>
  <footer style="font-size: 12px;">Ray Ozzie</footer>
</blockquote>
</div>
  <div class="section-page"><h3 id="what-are-modules" class="page-header">
  What Are Modules? <a class="permalink" href="#what-are-modules" title="Permalink"><small>¶</small></a><br/>
  <small>Robust &amp; Flexible Modules that are completely independent of other modules in the application.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">What Are Modules?</li>
</ol>
<p class="lead">
  A Module is similar to a plugin in other software, or an npm package, but even better. The key difference is that Modules are first-class citizens, and everything is a Module in CleverStack, including both the core framework functionality and the code written for your application.
</p>

<p class="sub lead">
  A Module is simply a structured set of files within a directory that implement a single feature. You might create a blog-module, a forum-module or a users-module for user management. (many of these exist already as <a href="http://cleverstack.io/modules/">open source modules</a>).
</p>

<p class="sub lead">
  Each directory contains everything related to that feature, including all utils, classes, controllers, services, tasks, models, configuration, seed data (etc), as well as the it's dependencies (in their own package.json) and testing. Every aspect of a feature exists in a module and every feature lives in a module.
</p>

<p class="sub lead">
  CleverStack makes it easy to pick and choose which features to enable in your application and gives you the freedom to optimize them the way you want.
</p>

<br/>
<blockquote>
  <h6>There are two ways of constructing a software design. One way is to make it so simple that there are obviously no deficiencies. And the other way is to make it so complicated that there are no obvious deficiencies.</h6>
  <footer style="font-size: 12px;">C.A.R. Hoare</footer>
</blockquote>
</div>
  <div class="section-page"><h3 id="what-about-npm" class="page-header">
  What about NPM? <a class="permalink" href="#what-about-npm" title="Permalink"><small>¶</small></a><br/>
  <small>The Node Package Manager, which is CleverStack leverages for it's dependency management system.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">What about NPM?</li>
</ol>

<p class="lead">
  NPM is the package manager for Node.js. It was created in 2009 as an open source project to help JavaScript developers easily share packaged modules of code and is dedicated to the long term success of the JavaScript community.
</p>

<br/>
<p class="lead sub">
  But packages on node are often libraries/api's, are hard to install, or require complex setup and <i>configuration of the package</i> and it's dependencies <strong>after npm has</strong> finished installing the package <i><strong>before they are ready for use.</strong></i>
</p>
<p class="lead sub">
  But that is not a bad thing, this is exactly how NPM should work, and why it's so good at what it does, it's designed to be used to manage all dependencies <i>written in <strong>JavaScript</strong></i> and does not complicate things by trying to do too much or out of scope custom implementations for any given platform/browser and because of that it is extremely reliable.
</p>
<p class="lead sub">
  NPM was designed to be flexible enough to provide an abstraction layer that developers can use to build upon - for example it could greatly reduce the codebase of <a href="http://bower.io/">Bower</a>, improve its dependency management, increase collaboration, and allow bower to focus on new features instead of duplicating already solved software problems. This is only one example use case of using NPM like we have, the possibilities of other projects using NPM are endless when you look on github.
</p>
<br/>

<h4 class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">What is CleverStack's approach to NPM?</h4>
<p class="lead">
  CleverStack uses NPM to enhance the development lifecycle for developers, but doesn't change or interfere with it, using industry best practices, so that when CleverStack is used to develop NodeJS powered Applications, they are <strong><i>flexible</i></strong>, <strong><i>simple</i></strong>, <strong><i>modular</i></strong>, and meet our vertical and horizontal goals.
</p>
<p class="sub lead">
  Before CleverStack implements custom code we always carefully consider the options available at the time and the need for the feature <strong><i>before writing custom solutions</i></strong>.
</p>
<p class="sub lead">
  Additionally, if one of CleverStack's custom implemented features or solutions is implemented and becomes available in a new version of NPM, that is a viable replacement for ours, we will always change over to use the NPM implementation - it reduces our code base (DRY) and ensures CleverStack is as collaborative as possible.
</p>
<p class="sub lead">
  We take advantage of NPM as much as possible, and without NPM CleverStack would be impossible, because we would have to write a large and complex dependency management system. <small>(Which would be a terrible idea considering npm is available now)</small>.
</p>
</div>
  <div class="section-page"><h3 id="what-powers-modules" class="page-header">
  What Powers Modules? <a class="permalink" href="#what-powers-modules" title="Permalink"><small>¶</small></a><br/>
  <small>What CleverStack leverages and extends to comprise the Module System.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">What Powers Modules?</li>
</ol>
<p class="lead">
  CleverStack's <strong><i>Module System</i></strong> provides a very thin abstraction layer ontop of NPM, which because of its very small core codebase is easy to maintain, has a very low risk of severe bugs, has community support for speedy bug fixes to reported or common issues, that fascilitates creating the most modular code possible when developing on the <strong>NodeJS</strong> runtime, without sacrificing code quality or developer sanity.
</p>

<!-- Core Components
================================================== -->
<h5  class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">
  Core Components</a>
</h5>
<dl class="dl-horizontal" id="core-components">
  <dt><a href="https://github.com/CleverStack/Node-Seed/tree/master/lib/classes/ModuleLoader.js">ModuleLoader</a></dt>
  <dd>
    <p>Is an extended <code>Class</code>, that inherits from <code>EventEmitter</code>, and is responsible for iterating over the modules inside the modules folder to load and trigger a sequence of events for each of the modules in an asynchronous fashion.</p>
  </dd>

  <dt><a href="#class">Module</a></dt>
  <dd>
    <p>
      Is an extended <code>Class</code>, that inherits from <code>EventEmitter</code>, and must be exported by all CleverStack modules - See the <a href="#class">Module Class</a> Documentation for more information, additionally you can <a href="https://github.com/CleverStack/Node-Seed/tree/master/lib/classes/Module.js">view the code on github</a>.
    </p>
  </dd>
</dl>

<!-- Leveraged Components
================================================== -->
<h5 id="leveraged-components" class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">
  Leveraged Components <a class="permalink" href="#leveraged-components" title="Permalink"><small>¶</small></a>
</h5>
<dl class="dl-horizontal">
  <dt>
    <a href="/documentation/backend/#di">Dependency Injector</a><br/>
    <small>(<a href="https://www.npmjs.com/package/clever-injector">clever-injector</a>)</small>
  </dt>
  <dd>
    <p>
      This module provides Dependency Injection for CleverStack, it is non blocking, Lightning-fast, easy to use, flexible, and makes using DI <strong><i>exactly the same</i></strong> for the Node Backend and the Angular Frontend, with the exception of <strong><i>optional dependencies</i></strong> - See the <a href="/documentation/backend/#di">Dependency Injection</a> Documentation for more information.
    </p>
  </dd>
  <dt><a href="/documentation/backend/#magic-modules">Magic Modules</a></dt>
  <dd>
    <p>The Magic that enables CleverStack to do things like <code>require('injector')</code>, <code>require('config')</code> and <code>require('module-name')</code> as well as many others - See the <a href="/documentation/backend/#magic-modules">Magic Modules</a> Documentation for more information.</p>
  </dd>
  <dt>
    <a href="/documentation/backend/classes/">Class</a>
  </dt>
  <dd>
    <p>
      Each Module is extended from a Class, we do this for many reasons but none as important as taking advantage of V8's Hidden Classes, Inline Caches &amp; Optimizing Compiler to allow V8 to generate efficient and performant machine code automatically, so your application is as Lightning-fast to execute as well as write and maintain. - See the <a href="/documentation/backend/classes/">Class</a> Documentation for more information.
    </p>
  </dd>
  <dt><a href="http://npmjs.org">NPM</a></dt>
  <dd>
    <p>
      NPM is the package manager for Node.js. It was created in 2009 as an open source project to help JavaScript developers easily share packaged modules of code and is dedicated to the long term success of the JavaScript community - It is responsible for our dependency management and is used by commands like <code>clever init</code>, <code>clever install</code> and <code>clever-setup</code>.
    </p>
  </dd>
</dl>
<br/>
</div>
  <div class="section-page"><h3 id="example-module" class="page-header">
  The Example Module <a class="permalink" href="#example-module" title="Permalink"><small>¶</small></a><br/>
  <small>An example of how CleverStack Modules should be built.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">The Example Module</li>
</ol>

<p class="lead">For an in-depth example of how to create CleverStack enhanced Node Modules, take a look at the <a href="https://github.com/CleverStack/backend-example-module">backend-example-module</a></p>

<p>To install this module in your application use the CleverStack CLI's <code>install</code> command.<br/>(ie. <code>clever install backend-example-module</code>)</p>
<img src="/assets/img/screenshots/clever-install.png" width="100%">
</div>
  <!-- <div class="section-page"><h3 id="module-loader" class="page-header">
  Module Loader <a class="permalink" href="#module-loader" title="Permalink"><small>¶</small></a>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Module Loader</li>
</ol>

<div class="bs-callout bs-callout-danger">
  <h4>Needs more information</h4>
  <p>This section of the documentation is either out-dated or incomplete, please ask for help in github or hipchat if you need more information.</p>
</div>
</div> -->
  <div class="section-page"><h3 id="working-with-modules" class="page-header">
  Working With Modules <a class="permalink" href="#working-with-modules" title="Permalink"><small>¶</small></a><br/>
  <small>By using the CleverStack CLI, installing, upgrading, downgrading and removing modules is easy and straight forward.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Working With Modules</li>
</ol>
<p class="lead">
  Installing, Removing, Upgrading or Downgrading modules is as simple as running <code>clever</code> with the name of the command you want to run, like <code>clever install</code> with the name of the module you want to install. <small>(for example, <code>clever install backend-example-module</code>)</small>
</p>

<br/>
<div class="bs-callout bs-callout-danger">
  <h4>
    Common Issue, running commands without the CLI <small>(ie <code>grunt server</code> or <code>node app</code>)</small>
  </h4>
  <p>
    If you want to run, or are trying to run commands without the CLI (<code>clever</code> command) - Remember to set your <code>NODE_PATH</code>,
    checkout <a href="/documentation/backend/#magic-modules">Magic Modules</a> for more information.

    <br/><br/>
    <img src="/assets/img/screenshots/node-path-not-set-error.png" width="100%">
  </p>
</div>
<div class="bs-callout bs-callout-danger">
  <h4>Module Name Clashes with NPM</h4>
  <p>Module names should not conflict with published npm packages, unless you don't want to use the published npm package in your application.</p><br/>

  <p>For example imagine you wanted to build a cleverstack module that integrates stripe, you wouldn't name your cleverstack module <code>stripe</code>, because if you and tried to use the <a href="https://www.npmjs.com/package/stripe">stripe</a> api library from npm, and tried to <code>require('stripe')</code> it would include your module not the npm package you expected, in this case the best practice for naming the cleverstack module would be <code>clever-stripe</code>.</p>
</div>
<div class="bs-callout bs-callout-warning">
  <h4>Command Failed Errors</h4>
  <p>If you see a command failed error in your terminal/console after installing a module and seeing a message that states it's about to rebase or seed your database, it is highly likely that something is wrong with your configuration that you need to fix.<br/>
  See <a href="#configuration">Configuration</a> and <a href="#seed-data">Seed Data</a> for information.</p>
</div>
<div class="bs-callout bs-callout-info">
  <h4>Module Loading Order</h4>
  <p>Because CleverStack points your <code>NODE_PATH</code> to the <code>backend/lib</code> and <code>backend/modules</code> folders, this means the <strong>loading order of modules does not matter</strong>, as each module can be loaded using <code>require('module-name')</code> in any js file from any module in the application - That mean's your application's will always resolve and load modules in the best possible way automatically.<br/>
  </p>
</div>
<div class="bs-callout bs-callout-info">
  <h4>Install, Remove, Upgrade or Downgrade multiple modules at a time</h4>
  <p>You can specify multiple modules in each install, remove, upgrade or downgrade command separated by spaces.</p>
</div>
<br/>

<!-- Installing Modules
================================================== -->
<div class="section-page">
  <h5 id="installing-modules" class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">
    Installing Modules <a class="permalink" href="#installing-modules" title="Permalink"><small>¶</small></a><br/>
    <small>How to add functionality to your Application by installing a CleverStack Module.</small>
  </h5>
  <div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever install backend-example-module</code></pre></div>
  <img src="/assets/img/screenshots/clever-install.png" width="100%"><br/><br/><br/>

  <h5>You can also specify a specific version to install</h5>
  <div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever install backend-example-module@1.0.3</code></pre></div>
  <img src="/assets/img/screenshots/clever-install-specific-version.png" width="100%">

  <div class="bs-callout bs-callout-info">
    <h4>Installation Prompts</h4>
    <p>
      After running this command you may be prompted to configure the module/s your installing, see <a href="#configuration">Configuration</a> for more information. Additionally you may be prompted to setup the seed data for the module/s your installing, see <a href="/documentation/backend/models/#seed-data">Seed Data</a> for more information.<br/>
    </p>
  </div>

  <div class="bs-callout bs-callout-warning">
    <h4>Command Failed Errors</h4>
    <p>If you see a command failed error in your terminal/console after installing a module and seeing a message that states it's about to rebase or seed your database, it is highly likely that something is wrong with your configuration that you need to fix.<br/>
    See <a href="#configuration">Configuration</a> and <a href="/documentation/backend/models/#seed-data">Seed Data</a> for information.</p>
  </div>
</div>
<br/>

<!-- Removing Modules
================================================== -->
  <div class="section-page">
  <h5 id="removing-modules" class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">
    Removing Modules <a class="permalink" href="#removing-modules" title="Permalink"><small>¶</small></a><br/>
    <small>How to remove functionality from your Application by removing a CleverStack Module.</small>
  </h5>
  <div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever remove backend-example-module</code></pre></div>
  <img src="/assets/img/screenshots/clever-remove.png" width="100%"><br/><br/>

  <h5>If the module is already the same version, or older - then you will see something like this</h5>
  <img src="/assets/img/screenshots/clever-remove-invalid-module.png" width="100%">
</div>
<br/>

<!-- Upgrading Modules
================================================== -->
  <div class="section-page">
  <h5 id="upgrading-modules" class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">
    Upgrading Modules <a class="permalink" href="#upgrading-modules" title="Permalink"><small>¶</small></a><br/>
    <small>How to use a newer version of a module by upgrading a CleverStack Module.</small>
  </h5>
  <div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever upgrade backend-example-module</code></pre></div>
  <img src="/assets/img/screenshots/clever-upgrade.png" width="100%">
</div>
<br/>

<!-- Downgrading Modules
================================================== -->
<div class="section-page">
  <h5 id="downgrading-modules" class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">
    Downgrading Modules <a class="permalink" href="#downgrading-modules" title="Permalink"><small>¶</small></a><br/>
    <small>How to use an older version of a module by downgrading a CleverStack Module.</small>
  </h5>
  <div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever downgrade backend-example-module@1.0.3</code></pre></div>
  <img src="/assets/img/screenshots/clever-downgrade.png" width="100%"><br/><br/>

  <h5>If the module is not installed you will see something like this in your terminal/console.</h5>
  <img src="/assets/img/screenshots/clever-downgrade-same-version-error.png" width="100%">
</div>
</div>
  <div class="section-page"><h3 id="configuration" class="page-header">
  Module Configuration <a class="permalink" href="#configuration" title="Permalink"><small>¶</small></a><br/>
  <small>Sophisticated deep-merged configuration allows ultimate flexibility between environments</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Module Configuration</li>
</ol>

<p class="lead">To make configuration as easy and comprehensive as possible, you are able to define two configuration files, default.json and global.json, these files are automatically deep merged with your projects other configuration files. See <a href="/documentation/backend/#configuration">Backend Configuration</a> Documentation for more information.</p>

<h4 class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">Configuration files: <small>(loaded in the order they are listed)</small></h4>
<ol>
  <li>&lt;module&gt;/config/default.json
    <ul>
      <li>
        This file is used mainly to define the basic structure of configuration for each module, primarily used to provide sane configuration defaults.
      </li>
    </ul>
  </li>
  <li>&lt;module&gt;/config/global.json
    <ul>
      <li>
        This file is used to define the GLOBAL settings for this module, primarily used to "prevent cannot access variable of undefined" errors where code relies on the structure of the configuration object.
      </li>
    </ul>
  </li>
</ol>

<br/>
<h4 class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;">What is the structure of these JSON configuration files?</h4>
<p>Each of these JSON config files must contain (if they exist on disk) an object that has all configuration objects nested in an object under one key which needs to be named the same as your &lt;module&gt;.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;module-name&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;config&quot;</span>  <span class="p">:</span> <span class="s2">&quot;here&quot;</span><span class="p">,</span>
    <span class="nt">&quot;another&quot;</span> <span class="p">:</span> <span class="s2">&quot;as well&quot;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></div>
</div>
  <div class="section-page"><h3 id="structure" class="page-header">
  Module Structure <a class="permalink" href="#structure" title="Permalink"><small>¶</small></a><br/>
  <small>Cleverstacks's Architecture has been designed to be simple and intiutive to use and extend.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Module Structure</li>
</ol>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">example-module/
├── bin/                  <span class="c"># module scripts &amp; binaries</span>
├── classes/              <span class="c"># module classes</span>
├── config/               <span class="c"># module specific configs and setting overrides</span>
├── controllers/          <span class="c"># module controllers</span>
├── exceptions/           <span class="c"># module custom exceptions</span>
├── models/               <span class="c"># module models</span>
├── schema/               <span class="c"># your schema is stored in here</span>
│   └── seedData.json/    <span class="c"># seed data is used to populate your database tables</span>
├── services/             <span class="c"># module services</span>
├── tests/
│   ├── e2e/              <span class="c"># module end to end tests</span>
│   └── unit/             <span class="c"># module unit tests</span>
├── utils/                <span class="c"># module utils</span>
├── Gruntfile.js          <span class="c"># module grunt tasks</span>
├── module.js             <span class="c"># main module class</span>
├── package.json          <span class="c"># module npm dependencies</span>
└── routes.js             <span class="c"># module routes</span></code></pre></div><br>
<div style="padding-left: 30px;">
  <h4>Important files and folders</h5>

  <h5 id="modules-config-default">config/</h5>
  <ul>
    <li>Like the applications config folder this module config folder allows you to provide configuration on a per module basis.</li>
    <li><a href="#backend-modules-config-default">&lt;module&gt;/config/default.json</a></li>
    <li><a href="#backend-modules-config-global">&lt;module&gt;/config/global.json</a></li><br>
    <li><span class="label label-danger">Important</span> Every module's json config files must contain (if they exist on disk) an object that has all configuration objects nested in an object under one key which needs to be named the same as your &lt;module&gt;.</li>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
<span class="nt">&quot;moduleName&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="nt">&quot;config&quot;</span><span class="p">:</span> <span class="s2">&quot;here&quot;</span><span class="p">,</span>
<span class="nt">&quot;another&quot;</span><span class="p">:</span> <span class="s2">&quot;as well&quot;</span>
<span class="p">}</span>
<span class="p">}</span></code></pre></div>
  </ul>

  <h5>tests/</h5>
  <ul>
      <li>Two folders for testing, e2e/ and unit/</li>
      <li>This allows each module to define it's own tests for the functionality (code) that is provided within each module.</li>
  </ul>

  <h5>package.json</h5>
  <ul>
      <li>Defines the modules basic information including name, version and scripts.</li>
      <li>Defines the modules NPM dependencies.</li>
  </ul>

  <h5>Gruntfile.js</h5>
  <ul>
      <li>A specially formatted Gruntfile which can be used to modify the applications gruntConfig and register grunt tasks.</li>
  </ul>

  <h5>module.js</h5>
  <ul>
      <li>Must export a Module Class which will be imported by the moduleLoader.</li>
  </ul>
  <div class="bs-callout bs-callout-info">
    <h4>Lifecycle Hooks</h4>
    <p>Modules have lifecycle <a href="#backend-modules-hooks">hooks</a> for every situation, like loading, routing, shutdown etc.</p>
  </div>
  <div class="bs-callout bs-callout-danger">
    <h4>File name may change per module</h4>
    <p>This presumes you have { "main": "module.js" } in your modules <a href="https://github.com/CleverStack/backend-example-module/blob/master/package.json#L22">package.json</a>, otherwise it is named what you want OR if not set at all this file will be called index.js. (As per standard NPM Modules)</p>
  </div>
  <p>Here is an example of a module.js file</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Example module.js</span>
<span class="kd">var</span> <span class="nx">Module</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span> <span class="s1">&#39;classes&#39;</span> <span class="p">).</span><span class="nx">Module</span><span class="p">;</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">Module</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="nx">preSetup</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="s1">&#39;Hello, this module is about to be setup by the moduleLoader&#39;</span> <span class="p">)</span>
<span class="p">}</span>
<span class="p">});</span></code></pre></div>

  <h5>routes.js</h5>
  <ul>
      <li>This is where you define what routes your module will handle.</li>
  </ul>
</div>
</div>
  <div class="section-page"><h3 id="hooks-and-events" class="page-header">
  Module Hooks &amp; Events <a class="permalink" href="#hooks-and-events" title="Permalink"><small>¶</small></a>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Module Hooks &amp; Events</li>
</ol>

<p>Your 'module.js' file has some lifecycle hooks that you can use to perform operations at certain times during the applications lifecycle, the hooks are fired in the order they are listed here on each module.</p><br>

<p>Example of using a hook:<p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="kd">var</span> <span class="nx">Classes</span>      <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">)</span>
<span class="lineno"> 2</span>   <span class="p">,</span> <span class="nx">Module</span>       <span class="o">=</span> <span class="nx">Classes</span><span class="p">.</span><span class="nx">Module</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="kd">var</span> <span class="nx">CleverModule</span> <span class="o">=</span> <span class="nx">Module</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno"> 5</span>   <span class="nx">preInit</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;preInit hook, init is about to be called&#39;</span><span class="p">);</span>
<span class="lineno"> 7</span>   <span class="p">}</span>
<span class="lineno"> 8</span> <span class="p">});</span>
<span class="lineno"> 9</span> 
<span class="lineno">10</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span>   <span class="o">=</span> <span class="nx">CleverModule</span><span class="p">;</span></code></pre></div>
<br/>

<div class="bs-callout bs-callout-danger">
  <h4>Hook firing order</h4>
  <p>Modules hooks are applied to each module in the order they are loaded.</p>
</div>

<div class="bs-callout bs-callout-danger">
  <h4>Needs more information</h4>
  <p>This section of the documentation is either out-dated or incomplete, please ask for help in github or hipchat if you need more information.</p>
</div>

<h5 id="modules-hooks-presetup">preSetup</h5>
<ul>
  <li>This hook is fired inside the main constructor function setup() how it is called before any setup has actually taken place.</li>
</ul>

<h5 id="modules-hooks-preinit">preInit</h5>
<ul>
  <li>This hook is fired just before init() is called, while init() is not a hook but a method you can override without having to call this._super().</li>
  <li><span class="label label-danger">Important</span> This is the last place to hook into until after init.</li>
</ul>

<h5 id="modules-hooks-init">init</h5>
<ul>
  <li>While this is not a hook, you are able to implement this function which forms the final step in the constructor, meaning it can take advantage of the Optimizing Compiler.</li>
</ul>

<h5 id="modules-hooks-configure-app">configureApp</h5>
<ul>
  <li>This hook allows you to modify the express app from within a module, without the need to make those changes in the index.js file located at backend/index.js</li><br>
  <li><span class="label label-danger">Important</span> you must emit "appConfigured", until you do the moduleLoader will wait.</li>
  <li><span class="label label-danger">Important</span> this function is injected with app &amp; express as arguments in the constructors setup() function.</li>
</ul>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno"> 1</span> <span class="kd">var</span> <span class="nx">Classes</span>      <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">)</span>
<span class="lineno"> 2</span>   <span class="p">,</span> <span class="nx">Module</span>       <span class="o">=</span> <span class="nx">Classes</span><span class="p">.</span><span class="nx">Module</span><span class="p">;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="kd">var</span> <span class="nx">CleverModule</span> <span class="o">=</span> <span class="nx">Module</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno"> 5</span>   <span class="nx">configureApp</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">app</span><span class="p">,</span> <span class="nx">express</span><span class="p">)</span> <span class="p">{</span>
<span class="lineno"> 6</span>     <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">express</span><span class="p">.</span><span class="nx">cookieParser</span><span class="p">());</span>
<span class="lineno"> 7</span>     <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;appConfigured&#39;</span><span class="p">);</span>
<span class="lineno"> 8</span>   <span class="p">}</span>
<span class="lineno"> 9</span> <span class="p">});</span>
<span class="lineno">10</span> 
<span class="lineno">11</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span>   <span class="o">=</span> <span class="nx">CleverModule</span><span class="p">;</span></code></pre></div>

<h5 id="modules-hooks-preresources">preResources</h5>
<ul>
  <li>This hook is fired just before the main setup() constructor function calls loadResources().</li>
  <li><span class="label label-danger">Important</span> you must emit "resourcesReady", until you do the moduleLoader will wait.</li>
</ul>

<h5 id="modules-hooks-modulesloaded">modulesLoaded</h5>
<ul>
  <li>This hook is fired after all modules are loaded (for each module).</li>
  <li><span class="label label-danger">Important</span> you must emit "ready", until you do the moduleLoader will wait.</li>
</ul>

<h5 id="modules-hooks-preroute">preRoute</h5>
<ul>
  <li>This hook is fired just before your routes are attached.</li>
</ul>

<h5 id="modules-hooks-preshutdown">preShutdown</h5>
<ul>
  <li>This hook is fired just before the application shuts down, allowing you to perform any cleanup related tasks.</li>
</ul>
</div>
  <div class="section-page"><h3 id="creating-modules" class="page-header">
  Creating Modules <a class="permalink" href="#class" title="Permalink"><small>¶</small></a>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Creating Modules</li>
</ol>

<p class="lead sub">Every Module in CleverStack is extended from the <code>Module</code> Class, which was extended from the base CleverStack <code>Class</code> and inherits from <code>EventEmitter</code>, every <code>Module</code> will automatically listen to events coming from the <code>ModuleLoader</code> as well as emitting events that the <code>ModuleLoader</code> and other <code>Module</code>'s can listen to.</p>

<div class="section-page">
  <h4 class="page-header" style="color: #2980b9; font-size: 125%; font-weight: 500;" id="generating-modules">Using the CLI<br/>
    <small>How to generate a new module using the CLI</small></h4>
  <div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever new example-module</code></pre></div>
  <img src="/assets/img/screenshots/clever-new-example-module.png" width="100%">

  <h5>This will generate the following structure:</h5>
  <img src="/assets/img/screenshots/clever-new-example-module-generated-files.png" height="450px;">
  <br/>

  <h4 class="page-header" id="class-definition" style="color: #2980b9; font-size: 125%; font-weight: 500;">Class Definition</h4>
  <p>Imagine you had a module called <code>example-module</code>, then <code>backend/modules/example-module/module.js</code> should at the very least contain the following basic extended <code>Module</code> Class.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="lineno">1</span> <span class="kd">var</span> <span class="nx">Classes</span>      <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;classes&#39;</span><span class="p">)</span>
<span class="lineno">2</span>   <span class="p">,</span> <span class="nx">Module</span>       <span class="o">=</span> <span class="nx">Classes</span><span class="p">.</span><span class="nx">Module</span><span class="p">;</span>
<span class="lineno">3</span> 
<span class="lineno">4</span> <span class="kd">var</span> <span class="nx">CleverModule</span> <span class="o">=</span> <span class="nx">Module</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="lineno">5</span>   <span class="c1">// Methods, Module Hooks and Templated Event Handlers go here.</span>
<span class="lineno">6</span> <span class="p">});</span>
<span class="lineno">7</span> 
<span class="lineno">8</span> <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span>   <span class="o">=</span> <span class="nx">CleverModule</span><span class="p">;</span></code></pre></div>
  <p><span class="label label-danger">IMPORTANT</span> This example assumes that you had added <code>"main": "module"</code> to <code>example-module/package.json</code> file.</p>

<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span>        <span class="p">:</span> <span class="s2">&quot;example-module&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span> <span class="p">:</span> <span class="s2">&quot;Example CleverStack Module&quot;</span><span class="p">,</span>
  <span class="nt">&quot;version&quot;</span>     <span class="p">:</span> <span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;main&quot;</span>        <span class="p">:</span> <span class="s2">&quot;module&quot;</span>
<span class="p">}</span></code></pre></div>
  <p>Otherwise it would expect to find the above code in the <code>backend/modules/example-module/index.js</code> file.</p>

  <div class="bs-callout bs-callout-info">
    <h4>Module Naming Convensions</h4>
    <p>Inline with NPM standards, the names of modules should be lowercase and seperated by dashes (dasherized) - and the names should not conflict with published npm packages unless you don't want to use the published npm package in your application.</p>
  </div>
</div>


<!-- Class Options
================================================== -->
<div class="section-page">
  <h4 class="page-header" id="class-options" style="color: #2980b9; font-size: 125%; font-weight: 500;">Class Options<br/></h4>

  <div class="bs-callout bs-callout-danger">
    <h4>Needs more information</h4>
    <p>This section of the documentation is either out-dated or incomplete, please ask for help in github or hipchat if you need more information.</p>
  </div>
</div>
</div>
  <div class="section-page"><h3 id="testing" class="page-header">
  Testing Modules<a class="permalink" href="#testing" title="Permalink"><small>¶</small></a><br/>
  <small>Modules contain their testing resources, there are two test types you can use, unit or e2e.</small>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Testing Modules</li>
</ol>
<p class="lead">We believe in testing our code as we develop, then if something breaks we know exactly where to start looking. Spending more time on developing the features we love.</p>
<br/>

<h4 id="testing-unit">Running Unit Tests</h4>
<p>To run the unit tests for your app and modules, from the backend root directory run:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">clever <span class="nb">test </span>unit</code></pre></div>
<p>Or simply use the alias:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">clever <span class="nb">test</span></code></pre></div>
<br/>

<h4 id="testing-e2e">Running E2E Tests</h4>
<p>To setup your environment for e2e testing with Protractor run the following command. This will install Selenium Server (WebDriver), ChromeDriver & PhantomJS based on your OS. If you wish to run selenium server in a separate terminal then use Webdriver Manager (see below).</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">clever <span class="nb">test </span>e2e</code></pre></div>
<br/>

<h4 id="testing-coverage">Code Coverage Reports</h4>
<p>To generate a code coverage report for your tests, from the backend directory run:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>clever <span class="nb">test </span>coverage</code></pre></div>
<p>Your browser should open the following URL:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>http://localhost:5555</code></pre></div>
<p>Then select your report from the list.</p>
</div>
  <div class="section-page"><h3 id="troubleshooting" class="page-header">
  Troubleshooting<a class="permalink" href="#troubleshooting" title="Permalink"><small>¶</small></a>
</h3>
<ol class="breadcrumb">
  <li><a href="/documentation">Documentation</a></li>
  <li><a href="/documentation/backend">Backend</a></li>
  <li><a href="/documentation/backend/modules">Modules</a></li>
  <li class="active">Troubleshooting</li>
</ol>
<p class="lead">If you have any problems (including errors, exceptions and even general usage) with the CleverStack Node-Seed.</p>
<ul>
  <li>Check the Github <a href="https://github.com/cleverstack/node-seed/issues">issues page</a>.</li>
  <li>Log into the public access <a href="https://gitter.im/CleverStack?utm_source=share-link&utm_medium=link&utm_campaign=share-link">Giiter Room</a> and ask for help.</li>
  <li>Get some help from the Cleverstack <a href="https://groups.google.com/forum/#!forum/clever-stack">Google Group</a></li>
  <li>If your still having problems, please <a href="https://github.com/CleverStack/node-seed/issues/new">raise an issue</a>.</li>
</ul>
</div>
</div>


        </div>
      </div>

    </div>

    <footer class="container text-center padtop" role="contentinfo">
      <p class="legal">Cleverstack.io is developed and maintained by <a href="http://au.linkedin.com/in/richardgustin" target="_blank">Richard Gustin</a> (<a href="https://github.com/pilsy" target="_blank">@pilsy</a>),<br/>our core developers, our open source community and <a href="http://www.clevertech.biz/" target="_blank">Clevertech</a>.<br/>2015 Cleverstack.io All Rights Reserved.</p>
    </footer>

    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="/dist/js/bootstrap.min.js"></script>

<!-- <script src="/assets/js/holder.js"></script> -->
<!-- <script src="/dist/js/application.min.js"></script> -->
<script src="/assets/js/application.js"></script>






<script>
  window.twttr = (function (d,s,id) {
    var t, js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return; js=d.createElement(s); js.id=id; js.async=1;
    js.src="https://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
    return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
  }(document, "script", "twitter-wjs"));
</script>

<!-- Analytics
================================================== -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48107165-1', 'cleverstack.io');
  ga('send', 'pageview');

  // var _gauges = _gauges || [];
  // (function() {
  //   var t   = document.createElement('script');
  //   t.async = true;
  //   t.id    = 'gauges-tracker';
  //   t.setAttribute('data-site-id', '4f0dc9fef5a1f55508000013');
  //   t.src = '//secure.gaug.es/track.js';
  //   var s = document.getElementsByTagName('script')[0];
  //   s.parentNode.insertBefore(t, s);
  // })();
</script>


  </body>
</html>
